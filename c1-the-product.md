# 第一章 软件的本质

## 软件的特性

软件从业人士往往不能理解传统工程对软件特殊性的强调，实际上软件工程和机械、电气等传统工程领域差异极大。以下提供一些可供帮助理解的角度：

* 考虑一个简单的硬件软件综合性产品，如行车记录仪，哪些需求将被划分为软件部分，而哪些会被划分为硬件部分。划分的理由是什么。
* 游戏软件的复杂性远远超过那些机电一体化的的游乐场设施，尤其考虑复杂度/成本因素之后，差距将是若干数量级的。
* 以一场演出作为比喻：舞台表演虽然回避了舞台建造时各种材料、工艺和施工问题，然而因此将会直接面对挑剔而苛刻的观众。
  * 硬件相当于舞台，而软件相当于演员。
* 假设需求细致明确且完全没有变更，传统领域仍然需要进行繁琐而严密的控制，比如一个建筑工程项目仍然考虑开挖、支护、模板、浇筑等等繁琐的环节以及控制。软件在需求明确且无变更的情况下，项目管理控制相对较为容易。

## 软件特性对软件工程的影响

软件在应对灵活多变的客户需求和处理复杂的场景方面具有极大的优势，使得软件不但接手了原有硬件这方面的功能，同时极大的释放并放大了类似诉求，正所谓能者多劳。但同时诸如沟通、过程控制和成本管理这些工程学问题并不会因为软件的原因有突破性的改变。

这个矛盾或者说挑战贯穿于软件工程始终。

> #### 关于失效曲线的思考
>
> 从实际需求场景出发，硬件失效曲线也可以和软件类似，然而无法实施变更导致直接失效废弃。这也是软件解放需求的一个佐证。

## 软件分类的一些Tip

### 系统软件

系统软件基于层次化的体系结构思想，当然一般的系统软件指的是靠近底部层次的软件。比如OS提供硬件资源抽象和管理，数据库在其上完成数据服务而不需要直接访问硬件资源。

### 嵌入式软件

软件工程领域的嵌入式的意义更多的考虑的工程上的“受控”问题，即此类型软件更多的受控于特定的底层硬件体系，整体需求是由传统领域的系统需求主导，整体实现某个软硬件一体化产品。

考虑各种硬件驱动程序，虽然也受控于特定硬件，但需求是面向兼容性OS这个目标，一般来说很少将其归为嵌入式软件。较为典型的嵌入式软件是各种实时系统，实时这个特性将软件和硬件紧密的联系在一起。

### 产品线软件

产品线软件不是一个软件，而是构建了一个自有的体系结构实现并共享各种工程资源的一个软件集。这是该书第一次开始设计体系结构话，这个话题会伴随整个软件工程的讨论始终。

> 从历史角度看，在软件体系结构这个话题中，自由软件精神、工程严谨性和商业垄断相互作用，留下了很多故事和话题。

## 一些计算机历史的小知识

可以明显感受到，作者关注了新兴的Web 2.0/移动App/云计算问题，即所谓的后PC时代，这就引出了计算机硬件演变这一历史话题。

#### 大型机时代

下图是著名的 [IBM System/360](https://en.wikipedia.org/wiki/IBM_System/360)，现代计算机开山之作，也是软件工程的主要发源地之一，其项目经理 [Fred Brooks](https://en.wikipedia.org/wiki/Fred_Brooks)由此写了著名的《The Mythical Man-Month》（人月神话）并于1999年获得图灵奖，以表彰其在计算机体系结构、操作系统和软件工程方面的贡献。

![](.gitbook/assets/image%20%2815%29.png)

> #### 一些小知识：
>
> 1962年开始研发，1964年发布
>
>  IBM/360的开发总投资5亿美元，达到美 国研究原子弹的曼哈顿计划投资20亿美元的1/4。在研制期间， 布鲁克斯率领着2000名程序员夜以继日地工作，单单360操作系 统的开发就用了5000个人年。
>
> 在位于休斯顿的任务控制中心，一大批工程师和程序员操作 NASA 实时计算机综合系统中的五台 IBM System/360 Model 75 计算机。关于飞行速度、飞行航道倾角以及影响时间和位置的每一比特数据都被即时检测和计算。在任务期间，阿波罗 11号的再入轨道—必须在六度飞行线路内才能安全返回地球—被反复计算了 400次。
>
> 1960年，在经过四年的研究、开发和设计后，第一个 Sabre 订票系统在纽约 Briarcliff Manor 安装完成。该系统运行于两台 IBM ® 7090 计算机上，每天可处理 84,000 个电话呼叫。1972年，美国航空公司将通过 Sabre 的全部数据整合到位于俄克拉荷马州塔尔萨地下装置中的全新 IBM System/360 计算机中。1976年，Sabre 第一次在领先代理机构中安装，引发了旅行自动化的浪潮，到年底，该系统共在 130 个地点安装。1978年，Sabre 每天可以存储一百万张机票的历史记录。
>
> 在IBM System/360 宣布推出 25年后的 1989年，基于 S/360 架构的产品及其扩展产品占 IBM 总收入的一半以上。这些产品也占全球所有公司价值 2600亿美元的计算机存货量的一半以上，而且每台计算机的价格都超过 100,000美元。
>
> 1979年，IBM为沈阳鼓风机厂安装了中国第一台IBM 大型机型号为system/370 。
>
> 下图摄于1968年，站立者是[Lakeside School](https://en.wikipedia.org/wiki/Lakeside_School_%28Seattle,_Washington%29) 13岁中学生Bill Gates坐着的是[Paul Allen](https://en.wikipedia.org/wiki/Paul_Allen) ，他们正在使用BASIC语言在GE大型机上写井字棋游戏。

![](.gitbook/assets/image%20%282%29.png)

#### PC时代

一般意义上的PC始于80年代的IBM 5150系统，与大型机时代不同IBM在1982年公开了整个技术兼容标准，Personal Computer从专有名词变为一般意义上的个人电脑的代称，下图即是IBM 5150

![](.gitbook/assets/image%20%284%29.png)

1981年盖茨和艾伦和IBM签定合同后合影（ Historic [Microsoft](https://en.wikipedia.org/wiki/Microsoft) photo of [Paul Allen](https://en.wikipedia.org/wiki/Paul_Allen) \(left\) and [Bill Gates](https://en.wikipedia.org/wiki/Bill_Gates) \(right\(respectively\)\) on October 19, 1981 in a sea of PCs after signing a major contract with IBM to develop software for its upcoming PC line.）

![](.gitbook/assets/image%20%2816%29.png)

90年代，随着图形界面的普及，PC开始了井喷式发展。下图为Windows 3.0，1990年5月22日发售，价格149.95美元，6周内发行百万份。同年7月，微软成为第一家在一年内销售额超过10亿美元的个人电脑软件公司。

![](.gitbook/assets/image%20%289%29.png)

下图为80s以来的PC销售曲线。

![](.gitbook/assets/image%20%2810%29.png)

#### 后PC时代

90年代开始，互联网出现，Web应用从简单的html开始，逐渐大行其道。下图为每一百人互联网覆盖率的历史变化情况。

![](.gitbook/assets/image%20%2812%29.png)

同时随着以智能手机为主导的移动计算开始更为迅猛的普及和兴起，下图为新千年后智能机销量超越的情况，请注意PC达到当前销量花了大概20年左右的时间。更下张的全局图片很直观的展现了这一点。

![](.gitbook/assets/image%20%2811%29.png)

![](.gitbook/assets/image%20%287%29.png)

随着软件“界面”离用户越来越近，同时云计算的兴起，计算离用户越来越远，而集中度不断提高。下图是近十年公有云市场趋势。

![](.gitbook/assets/image%20%285%29.png)

> #### 从体系结构的一点思考
>
> 一般而言，用户界面和生产支持系统是尽量分离的，如电话交换机和机械加工设备永远会待在电信机房和机加工车间而不会出现在家庭。当然也存在必须分离的场景如电冰箱并不会由中心机房提供冷气，而是将压缩机和整套制冷系统随着冰箱售卖。暖气是更复杂的例子：既存在中心供暖也有电暖气。其中能力传递和公共成本能否摊薄在其中起了很大作用。
>
> 在大型机时代的电话订票系统和后PC时代的各种Web应用，计算主要发生在中心机房而不是用户计算机，而PC应用则发生在客户本地。所以也有大型机回归这种说法。
>
> 游戏则是另外一个特殊的例子。





